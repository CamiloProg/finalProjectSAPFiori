<mvc:View 
    controllerName="com.bootcamp.sapui5.finalproject.controller.Detail"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:table="sap.ui.table">
    
    <Page id="pageDetail" title="Detalle Proveedor" showNavButton="true" navButtonPress="onNavBack">
        <content>
            <VBox>
                <!-- Sección de información del proveedor -->
                <f:SimpleForm
                    editable="false"
                    layout="ResponsiveGridLayout"
                    title="Información del Proveedor"
                    labelSpanXL="3" labelSpanL="3"
                    labelSpanM="3" labelSpanS="12"
                    adjustLabelSpan="false" 
                    emptySpanXL="4" emptySpanL="4" 
                    emptySpanM="4" emptySpanS="0"
                    columnsXL="1" columnsL="1" columnsM="1"
                    singleContainerFullSize="false">
                    
                    <f:content>
                        <Label text="ID Proveedor"/>
                        <Text text="{SupplierID}"/>
                        
                        <Label text="Nombre Compañía"/>
                        <Text text="{CompanyName}"/>
                        
                        <Label text="Contacto"/>
                        <Text text="{ContactName}"/>
                        
                        <Label text="Título Contacto"/>
                        <Text text="{ContactTitle}"/>
                        
                        <Label text="Dirección"/>
                        <Text text="{Address}, {PostalCode}, {City}"/>
                        
                        <Label text="País"/>
                        <Text text="{Country}"/>
                        
                        <Label text="Teléfono"/>
                        <Text text="{Phone}"/>
                    </f:content>
                </f:SimpleForm>
                
                <!-- Tabla de productos del proveedor -->
                <Panel headerText="Productos del Proveedor" expandable="true" expanded="true">
                    <headerToolbar>
                        <OverflowToolbar>
                            <Title text="Productos"/>
                            <ToolbarSpacer/>
                            <Button 
                                icon="sap-icon://add" 
                                text="Agregar Producto" 
                                press=".onAddProduct"/>
                        </OverflowToolbar>
                    </headerToolbar>
                    
                 <table:Table 
                        id="productsTable"
                        rows="{path: 'Products', templateShareable: false}"
                        selectionMode="Single"
                        selectionBehavior="RowOnly"
                        rowSelectionChange=".onRowSelected">
                        
                        <table:columns>
                            <table:Column width="100px">
                                <Label text="ID"/>
                                <table:template>
                                    <Text text="{ProductID}"/>
                                </table:template>
                            </table:Column>
                            
                            <table:Column width="150px">
                                <Label text="Categoría"/>
                                <table:template>
                                    <Text text="{Category/CategoryName}"/>
                                </table:template>
                            </table:Column>
                            
                            <table:Column width="200px">
                                <Label text="Nombre Producto"/>
                                <table:template>
                                    <Text text="{ProductName}"/>
                                </table:template>
                            </table:Column>
                            
                            <table:Column width="150px">
                                <Label text="Cantidad por Unidad"/>
                                <table:template>
                                    <Text text="{QuantityPerUnit}"/>
                                </table:template>
                            </table:Column>
                            
                      <table:Column width="100px" hAlign="End">
                        <Label text="Precio Unitario"/>
                        <table:template>
                            <Text text="{UnitPrice}"/>
                        </table:template>
                    </table:Column>
                            
                            <table:Column width="100px" hAlign="End">
                                <Label text="Unidades en Stock"/>
                                <table:template>
                                    <Text text="{UnitsInStock}"/>
                                </table:template>
                            </table:Column>
                        </table:columns>
                    </table:Table>
                </Panel>
            </VBox>
        </content>
    </Page>
</mvc:View>